pop = [
        {
             "attribution" => nil,
                    "tags" => [
               "arnoldclassicaustralia",
               "letsgo",
               "labellamafia",
               "hardcoreladies",
               "tochegando",
               "calmaae"
          ],
                    "type" => "image",
                "location" => {
               "latitude" => -27.583195466,
              "longitude" => -48.544449439
          },
                "comments" => {
              "count" => 85,
               "data" => [
                   {
                      "created_time" => "1426211224",
                              "text" => "Musa e mito!!!",
                              "from" => {
                                 "username" => "aevolucao.ae",
                          "profile_picture" => "https://igcdn-photos-h-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/11049405_1064013970292447_1604937606_a.jpg",
                                       "id" => "1747652955",
                                "full_name" => "Academia EvoluÃ§Ã£o"
                      },
                                "id" => "939450303379781910"
                  },
                   {
                      "created_time" => "1426211283",
                              "text" => "As an actor n bodybuilder his koo but da rest his an Asshole",
                              "from" => {
                                 "username" => "green12456.cu",
                          "profile_picture" => "https://instagramimages-a.akamaihd.net/profiles/anonymousUser.jpg",
                                       "id" => "1605925048",
                                "full_name" => "Christian"
                      },
                                "id" => "939450791630321988"
                  },
                   {
                      "created_time" => "1426211318",
                              "text" => "Filmes dele ''the best''ðŸ’ª",
                              "from" => {
                                 "username" => "mr.j.c.m",
                          "profile_picture" => "https://igcdn-photos-c-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/10955382_744886158958458_479164264_a.jpg",
                                       "id" => "1588460360",
                                "full_name" => "Jose Carlos Moura Moura"
                      },
                                "id" => "939451090826803547"
                  },
                   {
                      "created_time" => "1426211332",
                              "text" => "With the boss!",
                              "from" => {
                                 "username" => "thealabamakid",
                          "profile_picture" => "https://igcdn-photos-a-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/10818016_883133995030976_707680619_a.jpg",
                                       "id" => "242950230",
                                "full_name" => "LeÃ¤ndro Avila"
                      },
                                "id" => "939451207227128170"
                  },
                   {
                      "created_time" => "1426211412",
                              "text" => "JÃ¡ queimou o do bom ðŸŽ¶",
                              "from" => {
                                 "username" => "gustavo__borges",
                          "profile_picture" => "https://igcdn-photos-h-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/10983619_1534985073451695_116683592_a.jpg",
                                       "id" => "207233171",
                                "full_name" => "â €â €â €â €â €â €â €    Gustavo Borges"
                      },
                                "id" => "939451874406676887"
                  },
                   {
                      "created_time" => "1426211612",
                              "text" => "Toop!!",
                              "from" => {
                                 "username" => "renatomarchesini",
                          "profile_picture" => "https://igcdn-photos-h-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/11008086_1402570056714639_1397808564_a.jpg",
                                       "id" => "284017241",
                                "full_name" => "Renato Levi Marchesini"
                      },
                                "id" => "939453552371546674"
                  },
                   {
                      "created_time" => "1426211697",
                              "text" => "ðŸ‘ðŸ‘ðŸ‘",
                              "from" => {
                                 "username" => "saralavigne12",
                          "profile_picture" => "https://igcdn-photos-f-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/11022819_944054705638757_1208464527_a.jpg",
                                       "id" => "1219393661",
                                "full_name" => "Sara DolaÂ®"
                      },
                                "id" => "939454263792613989"
                  },
                   {
                      "created_time" => "1426211700",
                              "text" => "@randolpmatos",
                              "from" => {
                                 "username" => "juanchospy",
                          "profile_picture" => "https://igcdn-photos-b-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/914355_791037214239833_388543756_a.jpg",
                                       "id" => "1322828737",
                                "full_name" => "Juan Rodriguez"
                      },
                                "id" => "939454291441465963"
                  }
              ]
          },
                  "filter" => "Normal",
            "created_time" => "1426208682",
                    "link" => "https://instagram.com/p/0Jha4DFblj/",
                   "likes" => {
              "count" => 11769,
               "data" => [
                   {
                             "username" => "danibembom",
                      "profile_picture" => "https://igcdn-photos-a-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/10979524_738062802979240_1359960045_a.jpg",
                                   "id" => "374271729",
                            "full_name" => "Dani Bembom"
                  },
                   {
                             "username" => "lucasribeirosantana",
                      "profile_picture" => "https://igcdn-photos-f-a.akamaihd.net/hphotos-ak-xfa1/t51.2885-19/10895366_737739522999725_1271929028_a.jpg",
                                   "id" => "583024074",
                            "full_name" => ""
                  },
                   {
                             "username" => "in_stephs_world",
                      "profile_picture" => "https://igcdn-photos-d-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/11008326_1608212039398555_1743451220_a.jpg",
                                   "id" => "220391843",
                            "full_name" => "Stephanie Fuentes"
                  },
                   {
                             "username" => "lfpaloni",
                      "profile_picture" => "https://igcdn-photos-b-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/10598190_1452413061702281_437677962_a.jpg",
                                   "id" => "407073332",
                            "full_name" => "Luiz Fernando Paloni"
                  }
              ]
          },
                  "images" => {
                   "low_resolution" => {
                     "url" => "http://scontent.cdninstagram.com/hphotos-xaf1/t51.2885-15/s306x306/e15/11018491_1609490042619687_1834862909_n.jpg",
                   "width" => 306,
                  "height" => 306
              },
                        "thumbnail" => {
                     "url" => "http://scontent.cdninstagram.com/hphotos-xaf1/t51.2885-15/s150x150/e15/11018491_1609490042619687_1834862909_n.jpg",
                   "width" => 150,
                  "height" => 150
              },
              "standard_resolution" => {
                     "url" => "http://scontent.cdninstagram.com/hphotos-xaf1/t51.2885-15/e15/11018491_1609490042619687_1834862909_n.jpg",
                   "width" => 640,
                  "height" => 640
              }
          },
          "users_in_photo" => [
               {
                  "position" => {
                      "y" => 0.6171875,
                      "x" => 0.159375
                  },
                      "user" => {
                             "username" => "tonydohertyoz",
                      "profile_picture" => "https://instagramimages-a.akamaihd.net/profiles/profile_53968342_75sq_1346416472.jpg",
                                   "id" => "53968342",
                            "full_name" => "Tony Doherty"
                  }
              },
               {
                  "position" => {
                      "y" => 0.8,
                      "x" => 0.196875
                  },
                      "user" => {
                             "username" => "amandajdoherty",
                      "profile_picture" => "https://igcdn-photos-g-a.akamaihd.net/hphotos-ak-xfa1/t51.2885-19/11004989_1559858724262718_1140914335_a.jpg",
                                   "id" => "52438674",
                            "full_name" => "ðŸ’™ AMANDA DOHERTYðŸ’™"
                  }
              },
               {
                  "position" => {
                      "y" => 0.7015625,
                      "x" => 0.8046875
                  },
                      "user" => {
                             "username" => "arnoldclassicau",
                      "profile_picture" => "https://instagramimages-a.akamaihd.net/profiles/profile_972205027_75sq_1393992475.jpg",
                                   "id" => "972205027",
                            "full_name" => "Arnold Classic Australia"
                  }
              },
               {
                  "position" => {
                      "y" => 0.371875,
                      "x" => 0.671875
                  },
                      "user" => {
                             "username" => "schwarzenegger",
                      "profile_picture" => "https://instagramimages-a.akamaihd.net/profiles/profile_198945880_75sq_1343247403.jpg",
                                   "id" => "198945880",
                            "full_name" => "Arnold Schwarzenegger"
                  }
              }
          ],
                 "caption" => {
              "created_time" => "1426208682",
                      "text" => "The Man Himself! \nI'm on my way to the expo! Can't wait to be there! ðŸ˜ #ArnoldClassicAustralia #LetsGO\nSee you guys at the #Labellamafia Booth - number 58 ------------------------------------------------- Essa nÃ£o precisa nem de legenda! ðŸ’ª To indo agora pra expo, mal posso esperar para chegar lÃ¡ e conferir o nosso stand. Pelos vÃ­deos no perfil da @labellamafiabrasil jÃ¡ vi que ficou lindo.\n\n#CalmaAe #tochegando #hardcoreLadies",
                      "from" => {
                         "username" => "alicematoss",
                  "profile_picture" => "https://igcdn-photos-f-a.akamaihd.net/hphotos-ak-xfp1/t51.2885-19/10691846_818228464865421_4697075_a.jpg",
                               "id" => "30181389",
                        "full_name" => "Alice Matos"
              },
                        "id" => "939429300779989707"
          },
          "user_has_liked" => false,
                      "id" => "939428979706018147_30181389",
                    "user" => {
                     "username" => "alicematoss",
              "profile_picture" => "https://igcdn-photos-f-a.akamaihd.net/hphotos-ak-xfp1/t51.2885-19/10691846_818228464865421_4697075_a.jpg",
                           "id" => "30181389",
                    "full_name" => "Alice Matos"
          }
        },
        {
             "attribution" => nil,
                    "tags" => [
               "topnight"
          ],
                    "type" => "image",
                "location" => nil,
                "comments" => {
              "count" => 173,
               "data" => [
                   {
                      "created_time" => "1426211208",
                              "text" => "LOVE YOU GUYS",
                              "from" => {
                                 "username" => "omatheusferrari",
                          "profile_picture" => "https://igcdn-photos-h-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/10865271_1541553219395695_1723683911_a.jpg",
                                       "id" => "31490290",
                                "full_name" => "Matheus Ferrari"
                      },
                                "id" => "939450168355863606"
                  },
                   {
                      "created_time" => "1426211213",
                              "text" => "Beauties",
                              "from" => {
                                 "username" => "omatheusferrari",
                          "profile_picture" => "https://igcdn-photos-h-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/10865271_1541553219395695_1723683911_a.jpg",
                                       "id" => "31490290",
                                "full_name" => "Matheus Ferrari"
                      },
                                "id" => "939450208914783289"
                  },
                   {
                      "created_time" => "1426211249",
                              "text" => "@mslisakristine that's us!",
                              "from" => {
                                 "username" => "princess_ash15",
                          "profile_picture" => "https://igcdn-photos-h-a.akamaihd.net/hphotos-ak-xfa1/t51.2885-19/11005241_1565128097106015_232095362_a.jpg",
                                       "id" => "27189764",
                                "full_name" => "âœ¨ðŸ‘‘ Princess Ash ðŸ‘‘âœ¨"
                      },
                                "id" => "939450508866239570"
                  },
                   {
                      "created_time" => "1426211285",
                              "text" => "Nice",
                              "from" => {
                                 "username" => "jdymax",
                          "profile_picture" => "https://igcdn-photos-f-a.akamaihd.net/hphotos-ak-xfa1/t51.2885-19/11055767_804796736261701_1750258570_a.jpg",
                                       "id" => "1224287800",
                                "full_name" => "JDymax"
                      },
                                "id" => "939450813238492273"
                  },
                   {
                      "created_time" => "1426211497",
                              "text" => "thought this was U @alexk_99",
                              "from" => {
                                 "username" => "nali3_",
                          "profile_picture" => "https://igcdn-photos-e-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/10903174_600808330064452_173992399_a.jpg",
                                       "id" => "189216871",
                                "full_name" => "Nour Ali"
                      },
                                "id" => "939452587437473026"
                  },
                   {
                      "created_time" => "1426211519",
                              "text" => "@nali3_ bro how",
                              "from" => {
                                 "username" => "alexk_99",
                          "profile_picture" => "https://igcdn-photos-h-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/10954861_1540963682821799_763811505_a.jpg",
                                       "id" => "342216634",
                                "full_name" => "Alex Krysztof"
                      },
                                "id" => "939452770611117330"
                  },
                   {
                      "created_time" => "1426211573",
                              "text" => "NOT LEA MICHELE @alexk_99 the white lady. and yes you look like the white lady AT THAT ANGLE. it's the nose",
                              "from" => {
                                 "username" => "nali3_",
                          "profile_picture" => "https://igcdn-photos-e-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/10903174_600808330064452_173992399_a.jpg",
                                       "id" => "189216871",
                                "full_name" => "Nour Ali"
                      },
                                "id" => "939453229149207853"
                  },
                   {
                      "created_time" => "1426211697",
                              "text" => "@jogarciaswisher TriDelta FSU 1997",
                              "from" => {
                                 "username" => "lauriecooler",
                          "profile_picture" => "https://instagramimages-a.akamaihd.net/profiles/anonymousUser.jpg",
                                       "id" => "1830751",
                                "full_name" => "LaurieCoolerðŸ€"
                      },
                                "id" => "939454266736131451"
                  }
              ]
          },
                  "filter" => "Normal",
            "created_time" => "1426200859",
                    "link" => "https://instagram.com/p/0JSfzxCD0R/",
                   "likes" => {
              "count" => 47378,
               "data" => [
                   {
                             "username" => "_eknaroman",
                      "profile_picture" => "https://igcdn-photos-h-a.akamaihd.net/hphotos-ak-xfa1/t51.2885-19/10860023_403042219860519_1377528114_a.jpg",
                                   "id" => "1686748649",
                            "full_name" => "Ekna RomÃ¡n"
                  },
                   {
                             "username" => "magnoluiz_a",
                      "profile_picture" => "https://instagramimages-a.akamaihd.net/profiles/profile_29530499_75sq_1393823658.jpg",
                                   "id" => "29530499",
                            "full_name" => "MagnoAraujo"
                  },
                   {
                             "username" => "soccer_tools",
                      "profile_picture" => "https://igcdn-photos-c-a.akamaihd.net/hphotos-ak-xfa1/t51.2885-19/11005271_800846683340882_1257018417_a.jpg",
                                   "id" => "1440570150",
                            "full_name" => "Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø¨Ø­Ø§Ø¬Ø© ÙˆØ³ÙŠÙ„Ø©SoccerTools"
                  },
                   {
                             "username" => "isadorakmg",
                      "profile_picture" => "https://igcdn-photos-c-a.akamaihd.net/hphotos-ak-xfa1/t51.2885-19/10852829_756225641136346_1607252074_a.jpg",
                                   "id" => "1368763303",
                            "full_name" => ""
                  }
              ]
          },
                  "images" => {
                   "low_resolution" => {
                     "url" => "http://scontent.cdninstagram.com/hphotos-xaf1/t51.2885-15/s306x306/e15/11024323_800721633328913_723286187_n.jpg",
                   "width" => 306,
                  "height" => 306
              },
                        "thumbnail" => {
                     "url" => "http://scontent.cdninstagram.com/hphotos-xaf1/t51.2885-15/s150x150/e15/11024323_800721633328913_723286187_n.jpg",
                   "width" => 150,
                  "height" => 150
              },
              "standard_resolution" => {
                     "url" => "http://scontent.cdninstagram.com/hphotos-xaf1/t51.2885-15/e15/11024323_800721633328913_723286187_n.jpg",
                   "width" => 640,
                  "height" => 640
              }
          },
          "users_in_photo" => [],
                 "caption" => {
              "created_time" => "1426200859",
                      "text" => "Throw back to last night! With this lovely lady @jogarciaswisher ðŸ’‹ #TopNight @stephaniehartherman @lgmargolis ðŸ¸ðŸðŸ·",
                      "from" => {
                         "username" => "msleamichele",
                  "profile_picture" => "https://igcdn-photos-e-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/10693728_771930822864580_1192734174_a.jpg",
                               "id" => "201150526",
                        "full_name" => "Lea Michele"
              },
                        "id" => "939363348309884590"
          },
          "user_has_liked" => false,
                      "id" => "939363348007894289_201150526",
                    "user" => {
                     "username" => "msleamichele",
              "profile_picture" => "https://igcdn-photos-e-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/10693728_771930822864580_1192734174_a.jpg",
                           "id" => "201150526",
                    "full_name" => "Lea Michele"
          }
        }
      ]

  # get all popular posts
  # pop_full = HTTParty.get('https://api.instagram.com/v1/media/popular?access_token=23131423.223b0db.6f8d56ddbfce4128936ecf2e8e926dce')['data']

  pop_image_ids = []
  commenters = []
  likers = []

  pop.each do |item|
    pop_image_ids << item["id"] # get ids of images

    item['comments']['data'].each do |commenter| # get all commenters
      commenters << commenter['from']
    end
   

    item['likes']['data'].each do |liker| # get all likers
      likers << liker['from']
    end
    
  end

  puts pop_image_ids
  puts commenters
  puts likers


  # now add the follower count
  # now add the following count